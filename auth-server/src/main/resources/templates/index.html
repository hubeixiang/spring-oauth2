<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <title>Spring Security OAuth 2.0 Authorization Server Sample</title>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/webjars/bootstrap/css/bootstrap.css"
          th:href="@{/webjars/bootstrap/css/bootstrap.css}"/>
</head>
<body>
<div th:fragment="header">
    <nav class="navbar navbar-default">
        <div class="container">
            <div class="container-fluid">
                <div class="navbar-collapse collapse" id="navbar">
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown">
                            <a id="user-menu" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                               aria-haspopup="true" aria-expanded="false">
                                <span sec:authentication="name" th:text="${loginUserName}"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a id="sign-out" href="javascript:document.logoutForm.submit()">Sign Out Auth
                                    Server</a></li>
                            </ul>
                            <form name="logoutForm" th:action="@{/logout}" method="post" th:hidden="true">
                                <input hidden type="submit" value="Sign Out"/>
                            </form>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
</div>
<div class="container">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Authorize the client with <span style="font-family:monospace">grant_type</span> used
                GET/POST URL:</h3>
        </div>
        <ul class="list-group">
            <li class="list-group-item">
                <div>
                    <h4 class="panel-title-code">Authorization Code</h4>
                    <div>
                        <h5 class="code1">
                            获取授权码
                            <p>Method: <span th:text="${authorizationCode_code_url.method}">Sebastian</span></p>
                            <p>Uri: <span th:text="${authorizationCode_code_url.uri}">Pepper</span></p>
                            ---------------------------------------------------------------------------
                        </h5>
                    </div>

                    <div>
                        <h5 class="code1-2" >
                            获取Token
                            <p>Method: <span th:text="${authorizationCode_code_token_url.method}">Sebastian</span></p>
                            <p>Uri: <span th:text="${authorizationCode_code_token_url.uri}">Pepper</span></p>
                            ---------------------------------------------------------------------------
                        </h5>
                    </div>

                </div>
            </li>
            <li class="list-group-item">
                <div>
                    <h4 class="panel-title-code">Implicit</h4>
                    <div>
                        <h5 class="code2" >
                            获取Token
                            <p>Method: <span th:text="${implicit_token_url.method}">Sebastian</span></p>
                            <p>Uri: <span th:text="${implicit_token_url.uri}">Pepper</span></p>
                            ---------------------------------------------------------------------------
                        </h5>
                    </div>
                </div>
            </li>
            <li class="list-group-item">
                <div>
                    <h4 class="panel-title-code">Client Credentials</h4>
                    <div>
                        <h5 class="code2" >
                            获取Token
                            <p>Method: <span th:text="${client_credentials_token_url.method}">Sebastian</span></p>
                            <p>Uri: <span th:text="${client_credentials_token_url.uri}">Pepper</span></p>
                            ---------------------------------------------------------------------------
                        </h5>
                    </div>
                </div>
            </li>
            <li class="list-group-item">
                <div>
                    <h4 class="panel-title-code">Resource Owner Password Credentials</h4>
                    <div>
                        <div>
                            <h5 class="code2" >
                                获取Token
                                <p>Method: <span th:text="${password_token_url.method}">Sebastian</span></p>
                                <p>Uri: <span th:text="${password_token_url.uri}">Pepper</span></p>
                                ---------------------------------------------------------------------------
                            </h5>
                        </div>
                    </div>
                </div>
            </li>
            <li class="list-group-item">
                <div>
                    <h4 class="panel-title-code">Token Refresh</h4>
                    <div>
                        <div>
                            <h5 class="code2" >
                                刷新Token
                                <p>Method: <span th:text="${refresh_token_url.method}">Sebastian</span></p>
                                <p>Uri: <span th:text="${refresh_token_url.uri}">Pepper</span></p>
                                <p>
                                    注意:
                                    还需要将旧有的token以及其他信息以 bearer的方式填写到请求头中
                                    access_token: "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImluclhSRmV4TFlhREJQY0hKR0lzS3hGTm9NR3BZK2NNdG9LdllaMSs0S2c9In0.eyJleHAiOjE1OTQ1MDI5NTMsInVzZXJfbmFtZSI6ImFsYXJtVXNlciIsImp0aSI6ImExODkwZmUwLTg5ODYtNDQwZC1iY2EyLTUxMzdmM2E3ZGJmMyIsImNsaWVudF9pZCI6ImJzcy1lbWJlZC13aGl0ZSIsInNjb3BlIjpbIm1lc3NhZ2UucmVhZCIsIm1lc3NhZ2Uud3JpdGUiXX0.ih2pM7OVNHwPUWZGoySXAftw-YabWMf-NI53Y3WwrW9p-giyS2Zrj3uJaGj7J4djeCgaCxqpdK_RcOE0fNuhaaw7hFTHqYgGLSEgVJPd5bP0IXn3Pd21QYclB_wBvIzQ6uVc0rCm2woxbca4ONyJnMaxT-8GWejepdpsmyah9xqkxsxjU-GENpgN1f3XfFx9E3aJ4Pjklg9ON-g32a--4oekE46aaheumsWNzbk9eAdGBCpyyX8NCAKrw358TzdS-rsKWsZWBREVH5RNFcuTbRrQl_0PbGL1E3IKzbxndaBtcfEFENMcynIPw2wwsqNDV9k_TFYlNFP4lSW2Uf6d5w"
                                    expires_in: 4800
                                    token_type: "bearer"
                                    jti: "a1890fe0-8986-440d-bca2-5137f3a7dbf3"
                                </p>
                                ---------------------------------------------------------------------------
                            </h5>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
        <div th:if="${messages}" class="panel-footer">
            <h4>Index Messages:</h4>
            <table class="table table-condensed">
                <tbody>
                <tr class="row" th:each="message : ${messages}">
                    <td th:text="${message}">message</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<script src="/webjars/jquery/jquery.min.js" th:src="@{/webjars/jquery/jquery.min.js}"></script>
<script src="/webjars/bootstrap/js/bootstrap.min.js" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
</body>
</html>
